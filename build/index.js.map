{"version":3,"file":"index.js","mappings":"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","sources":["webpack://quick-post-button/./node_modules/@wordpress/icons/build-module/library/more-vertical.js","webpack://quick-post-button/./src/add-button.js","webpack://quick-post-button/./src/kebab-menu.js","webpack://quick-post-button/./src/utils.js","webpack://quick-post-button/external window [\"wp\",\"components\"]","webpack://quick-post-button/external window [\"wp\",\"coreData\"]","webpack://quick-post-button/external window [\"wp\",\"data\"]","webpack://quick-post-button/external window [\"wp\",\"domReady\"]","webpack://quick-post-button/external window [\"wp\",\"element\"]","webpack://quick-post-button/external window [\"wp\",\"i18n\"]","webpack://quick-post-button/external window [\"wp\",\"primitives\"]","webpack://quick-post-button/external window [\"wp\",\"url\"]","webpack://quick-post-button/webpack/bootstrap","webpack://quick-post-button/webpack/runtime/compat get default export","webpack://quick-post-button/webpack/runtime/define property getters","webpack://quick-post-button/webpack/runtime/hasOwnProperty shorthand","webpack://quick-post-button/webpack/runtime/make namespace object","webpack://quick-post-button/./src/index.js"],"sourcesContent":["import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst moreVertical = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\"\n}));\nexport default moreVertical;\n//# sourceMappingURL=more-vertical.js.map","/**\n * WordPress dependencies.\n */\nimport { __ } from \"@wordpress/i18n\";\nimport { useSelect } from \"@wordpress/data\";\nimport { store as coreStore } from \"@wordpress/core-data\";\nimport { Button } from \"@wordpress/components\";\nimport { addQueryArgs } from \"@wordpress/url\";\n\n/**\n * Create the Quick Post Button we will add to the Block Editor Toolbar\n *\n * @since 0.1.0\n * @return {string} Return the rendered Quick Post Button\n */\nfunction AddNewPostButton({ postType, newPost, addNewLabel, singleLabel }) {\n\t// Basically don't run till we get all our data from the HoC\n\n\treturn (\n\t\t<Button\n\t\t\tisSecondary\n\t\t\tid=\"createwithrani-add-new-button\"\n\t\t\tstyle={{\n\t\t\t\ttextTransform: \"capitalize\",\n\t\t\t\tmargin: \"0 0 0 1em\",\n\t\t\t\tdisplay: \"block\",\n\t\t\t\tmaxHeight: \"36px\",\n\t\t\t\tminHeight: \"36px\",\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tborderTopRightRadius: \"0px\",\n\t\t\t\tborderBottomRightRadius: \"0px\",\n\t\t\t}}\n\t\t\tdisabled={newPost}\n\t\t\taria-disabled={newPost}\n\t\t\tonClick={() =>\n\t\t\t\t(location.href = addQueryArgs(\"post-new.php\", {\n\t\t\t\t\tpost_type: postType,\n\t\t\t\t}))\n\t\t\t}\n\t\t>\n\t\t\t<span>\n\t\t\t\t{sprintf(\n\t\t\t\t\t/* translators: %1$s: the phrase \"Add New\",\n\t\t\t\t\t\t  %2$s: Name of current post type. */\n\t\t\t\t\t__(\"%1$s %2$s\", \"createwithrani-quick-post-button\"),\n\t\t\t\t\taddNewLabel,\n\t\t\t\t\tsingleLabel\n\t\t\t\t)}\n\t\t\t</span>\n\t\t</Button>\n\t);\n}\n\nexport default AddNewPostButton;\n","//wp.data.select(\"core/editor\").getEditedPostAttribute(\"id\")\n//wp.data.select(\"core\").getEntityRecord('postType', 'post', 96)\n//wp.data.select(\"core/editor\").getEditedPostContent()\n//wp.data.select(\"core/editor\").getCurrentPost()\n/**\n * WordPress dependencies.\n */\nimport { __ } from \"@wordpress/i18n\";\nimport { Dropdown, Button } from \"@wordpress/components\";\nimport { moreVertical } from \"@wordpress/icons\";\n\n/**\n * Create the kebab menu for the Quick Post Button\n *\n * @since 0.1.0\n * @return {string} Return the rendered Quick Post Button\n */\nfunction QuickPostKebabMenu({ postType, newPost, addNewLabel, singleLabel }) {\n\treturn (\n\t\t<Dropdown\n\t\t\tstyle={{}}\n\t\t\tid=\"createwithrani-add-new-button\"\n\t\t\tcontentClassName=\"createwithrani-add-new-button-popover\"\n\t\t\tposition=\"bottom left\"\n\t\t\trenderToggle={({ isOpen, onToggle }) => (\n\t\t\t\t<Button\n\t\t\t\t\tdisabled={newPost}\n\t\t\t\t\taria-disabled={newPost}\n\t\t\t\t\tisSecondary\n\t\t\t\t\taria-expanded={isOpen}\n\t\t\t\t\tonClick={onToggle}\n\t\t\t\t\ticon={moreVertical}\n\t\t\t\t\ticonPosition=\"right\"\n\t\t\t\t\tlabel={sprintf(\n\t\t\t\t\t\t/* translators: %1$s: the phrase \"Add New\",\n\t\t\t\t\t\t\t  %2$s: Name of current post type. */\n\t\t\t\t\t\t__(\"%1$s %2$s\", \"createwithrani-quick-post-button\"),\n\t\t\t\t\t\taddNewLabel,\n\t\t\t\t\t\tsingleLabel\n\t\t\t\t\t)}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmarginLeft: \"-1px\",\n\t\t\t\t\t\tborderTopLeftRadius: \"0px\",\n\t\t\t\t\t\tborderBottomLeftRadius: \"0px\",\n\t\t\t\t\t\tdisplay: \"block\",\n\t\t\t\t\t\tmaxHeight: \"36px\",\n\t\t\t\t\t\tminHeight: \"36px\",\n\t\t\t\t\t}}\n\t\t\t\t></Button>\n\t\t\t)}\n\t\t\trenderContent={() => (\n\t\t\t\t<MenuGroup>\n\t\t\t\t\t<MenuItem>Up</MenuItem>\n\t\t\t\t</MenuGroup>\n\t\t\t)}\n\t\t/>\n\t);\n}\n\nexport default QuickPostKebabMenu;\n","/**\n * WordPress dependencies.\n */\nimport { __ } from \"@wordpress/i18n\";\nimport { useSelect } from \"@wordpress/data\";\nimport { store as coreStore } from \"@wordpress/core-data\";\n\n/*\n * \tWe need to know two things:\n * \t1. What post type are we in – so we can set up the URL to create a new post of the same type\n *\t2. Is this a new post? – because if it's brand new, we don't want our button to be active, yer already in a new post, bud.\n */\nexport function getPostInfo() {\n\tconst { postType } = useSelect((select) => {\n\t\treturn {\n\t\t\tpostType: select(\"core/editor\").getCurrentPostType(),\n\t\t};\n\t});\n\tconst { newPost } = useSelect((select) => {\n\t\tconst newPost = select(\"core/editor\").isCleanNewPost();\n\n\t\treturn {\n\t\t\tnewPost: newPost,\n\t\t};\n\t});\n\treturn { postType, newPost };\n}\n\nexport function getPostLabels(postType) {\n\tconst { singleLabel, addNewLabel } = useSelect((select) => {\n\t\tconst { getPostTypes } = select(coreStore);\n\t\tconst includedPostType = [postType];\n\t\tconst filteredPostTypes = getPostTypes({ per_page: -1 })?.filter(\n\t\t\t({ viewable, slug }) => viewable && includedPostType.includes(slug)\n\t\t);\n\t\tif (undefined !== filteredPostTypes) {\n\t\t\treturn {\n\t\t\t\taddNewLabel: filteredPostTypes[0].labels.add_new,\n\t\t\t\tsingleLabel: filteredPostTypes[0].labels.singular_name,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\taddNewLabel: undefined,\n\t\t\tsingleLabel: undefined,\n\t\t};\n\t});\n\treturn { addNewLabel, singleLabel };\n}\n","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies.\n */\nimport { __ } from \"@wordpress/i18n\";\nimport { useSelect } from \"@wordpress/data\";\nimport { store as coreStore } from \"@wordpress/core-data\";\nimport { render, useState } from \"@wordpress/element\";\nimport { subscribe } from \"@wordpress/data\";\nimport domReady from \"@wordpress/dom-ready\";\nimport AddNewPostButton from \"./add-button\";\nimport QuickPostKebabMenu from \"./kebab-menu\";\n\n/**\n * Internal dependencies.\n */\nimport { getPostInfo, getPostLabels } from \"./utils\";\n\n/**\n * Create the Quick Post button\n *\n * @since 0.1.0\n * @return {string} Return the rendered Quick Post Button\n */\nfunction QuickPostButton() {\n\tconst { postType } = useSelect((select) => {\n\t\treturn {\n\t\t\tpostType: select(\"core/editor\").getCurrentPostType(),\n\t\t};\n\t});\n\tconst { newPost } = useSelect((select) => {\n\t\tconst newPost = select(\"core/editor\").isCleanNewPost();\n\n\t\treturn {\n\t\t\tnewPost: newPost,\n\t\t};\n\t});\n\tif (!postType) {\n\t\treturn null;\n\t}\n\tconst { singleLabel, addNewLabel } = useSelect((select) => {\n\t\tconst { getPostTypes } = select(coreStore);\n\t\tconst includedPostType = [postType];\n\t\tconst filteredPostTypes = getPostTypes({ per_page: -1 })?.filter(\n\t\t\t({ viewable, slug }) => viewable && includedPostType.includes(slug)\n\t\t);\n\t\tif (undefined !== filteredPostTypes) {\n\t\t\treturn {\n\t\t\t\taddNewLabel: filteredPostTypes[0].labels.add_new,\n\t\t\t\tsingleLabel: filteredPostTypes[0].labels.singular_name,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\taddNewLabel: undefined,\n\t\t\tsingleLabel: undefined,\n\t\t};\n\t});\n\tconsole.log(newPost);\n\tif (undefined !== addNewLabel) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<AddNewPostButton\n\t\t\t\t\tpostType={postType}\n\t\t\t\t\tnewPost={newPost}\n\t\t\t\t\taddNewLabel={addNewLabel}\n\t\t\t\t\tsingleLabel={singleLabel}\n\t\t\t\t/>\n\t\t\t\t<QuickPostKebabMenu\n\t\t\t\t\tpostType={postType}\n\t\t\t\t\tnewPost={newPost}\n\t\t\t\t\taddNewLabel={addNewLabel}\n\t\t\t\t\tsingleLabel={singleLabel}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n\treturn null;\n}\n\n/**\n * Let's subscribe (because I finally understand what this does better)\n * and add the component to the toolbar!\n */\nsubscribe(() => {\n\tconst quickpostbutton = document.querySelector(\n\t\t\"#createwithrani-add-new-button-wrapper\"\n\t);\n\n\t// If the Quick Post Button already exists, skip render\n\t// (which we can do because we are finally in a functional call!)\n\tif (quickpostbutton) {\n\t\treturn;\n\t}\n\n\tdomReady(() => {\n\t\tconst editorToolbar = document.querySelector(\n\t\t\t\".edit-post-header-toolbar__left\"\n\t\t);\n\n\t\t// If toolbar doesn't exist, we can't continue\n\t\tif (!editorToolbar) {\n\t\t\treturn;\n\t\t}\n\n\t\t// So turns out you can't append to an existing container without\n\t\t// using dangerouslySetInnerHTML, which..I don't want to use.\n\t\tconst buttonWrapper = document.createElement(\"div\");\n\t\tbuttonWrapper.id = \"createwithrani-add-new-button-wrapper\";\n\t\tbuttonWrapper.style.cssText = \"display:flex;\";\n\t\t// Now we add the empty div to the existing toolbar element\n\t\t// so we can fill it.\n\t\teditorToolbar.appendChild(buttonWrapper);\n\n\t\trender(\n\t\t\t<QuickPostButton />,\n\t\t\tdocument.getElementById(\"createwithrani-add-new-button-wrapper\")\n\t\t);\n\t});\n});\n"],"names":["__","useSelect","store","coreStore","Button","addQueryArgs","AddNewPostButton","postType","newPost","addNewLabel","singleLabel","textTransform","margin","display","maxHeight","minHeight","borderTopRightRadius","borderBottomRightRadius","location","href","post_type","sprintf","Dropdown","moreVertical","QuickPostKebabMenu","isOpen","onToggle","marginLeft","borderTopLeftRadius","borderBottomLeftRadius","getPostInfo","select","getCurrentPostType","isCleanNewPost","getPostLabels","getPostTypes","includedPostType","filteredPostTypes","per_page","filter","viewable","slug","includes","undefined","labels","add_new","singular_name","render","useState","subscribe","domReady","QuickPostButton","console","log","quickpostbutton","document","querySelector","editorToolbar","buttonWrapper","createElement","id","style","cssText","appendChild","getElementById"],"sourceRoot":""}