{"version":3,"file":"index.js","mappings":"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","sources":["webpack://quick-post-button/./node_modules/@wordpress/icons/build-module/library/more-vertical.js","webpack://quick-post-button/./src/add-button.js","webpack://quick-post-button/./src/duplicate-menu-item.js","webpack://quick-post-button/./src/kebab-menu.js","webpack://quick-post-button/./src/utils.js","webpack://quick-post-button/./node_modules/classnames/index.js","webpack://quick-post-button/./src/editor.scss","webpack://quick-post-button/external window [\"wp\",\"apiFetch\"]","webpack://quick-post-button/external window [\"wp\",\"components\"]","webpack://quick-post-button/external window [\"wp\",\"coreData\"]","webpack://quick-post-button/external window [\"wp\",\"data\"]","webpack://quick-post-button/external window [\"wp\",\"domReady\"]","webpack://quick-post-button/external window [\"wp\",\"element\"]","webpack://quick-post-button/external window [\"wp\",\"i18n\"]","webpack://quick-post-button/external window [\"wp\",\"primitives\"]","webpack://quick-post-button/external window [\"wp\",\"url\"]","webpack://quick-post-button/webpack/bootstrap","webpack://quick-post-button/webpack/runtime/compat get default export","webpack://quick-post-button/webpack/runtime/define property getters","webpack://quick-post-button/webpack/runtime/hasOwnProperty shorthand","webpack://quick-post-button/webpack/runtime/make namespace object","webpack://quick-post-button/./src/index.js"],"sourcesContent":["import { createElement } from \"@wordpress/element\";\n\n/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nconst moreVertical = createElement(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\"\n}, createElement(Path, {\n  d: \"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z\"\n}));\nexport default moreVertical;\n//# sourceMappingURL=more-vertical.js.map","/**\n * WordPress dependencies.\n */\nimport { __ } from \"@wordpress/i18n\";\nimport { useSelect } from \"@wordpress/data\";\nimport { store as coreStore } from \"@wordpress/core-data\";\nimport { Button } from \"@wordpress/components\";\nimport { addQueryArgs } from \"@wordpress/url\";\n\n/**\n * Create the Quick Post Button we will add to the Block Editor Toolbar\n *\n * @since 0.1.0\n * @return {string} Return the rendered Quick Post Button\n */\nfunction AddNewPostButton({ postType, newPost, addNewLabel, singleLabel }) {\n\treturn (\n\t\t<Button\n\t\t\tisSecondary\n\t\t\tid=\"createwithrani-quick-post-button\"\n\t\t\tstyle={{\n\t\t\t\ttextTransform: \"capitalize\",\n\t\t\t\tmargin: \"0 0 0 1em\",\n\t\t\t\tdisplay: \"block\",\n\t\t\t\tmaxHeight: \"36px\",\n\t\t\t\tminHeight: \"36px\",\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tborderTopRightRadius: \"0px\",\n\t\t\t\tborderBottomRightRadius: \"0px\",\n\t\t\t}}\n\t\t\tdisabled={!newPost}\n\t\t\taria-disabled={!newPost}\n\t\t\tonClick={() =>\n\t\t\t\t(location.href = addQueryArgs(\"post-new.php\", {\n\t\t\t\t\tpost_type: postType,\n\t\t\t\t}))\n\t\t\t}\n\t\t>\n\t\t\t<span>\n\t\t\t\t{sprintf(\n\t\t\t\t\t/* translators: %1$s: the phrase \"Add New\",\n\t\t\t\t\t\t  %2$s: Name of current post type. */\n\t\t\t\t\t__(\"%1$s %2$s\", \"createwithrani-quick-post-button\"),\n\t\t\t\t\taddNewLabel,\n\t\t\t\t\tsingleLabel\n\t\t\t\t)}\n\t\t\t</span>\n\t\t</Button>\n\t);\n}\n\nexport default AddNewPostButton;\n","/**\n * WordPress dependencies.\n */\nimport apiFetch from \"@wordpress/api-fetch\";\nimport { __ } from \"@wordpress/i18n\";\nimport { MenuGroup, MenuItem } from \"@wordpress/components\";\nimport { useSelect } from \"@wordpress/data\";\nimport { useEffect, useState } from \"@wordpress/element\";\nimport { Spinner } from \"@wordpress/components\";\nimport { addQueryArgs } from \"@wordpress/url\";\n\n/**\n * Internal dependencies.\n */\nimport \"./editor.scss\";\n\nexport function DuplicateMenuItem({ singleLabel, restBase }) {\n\tconst [postId, setPostId] = useState(0);\n\tconst [duplicationStatus, setDuplicationStatus] = useState(false);\n\tconst { currentPostData } = useSelect((select) => {\n\t\treturn {\n\t\t\tcurrentPostData: select(\"core/editor\").getCurrentPost(),\n\t\t};\n\t});\n\tconst DuplicatePost = {\n\t\tauthor: currentPostData.author,\n\t\tcontent: currentPostData.content,\n\t\ttitle: \"Copy of \" + currentPostData.title,\n\t\texcerpt: currentPostData.excerpt,\n\t\tcomment_status: currentPostData.comment_status,\n\t\tping_status: currentPostData.ping_status,\n\t\tpassword: currentPostData.password,\n\t\tparent: currentPostData.parent,\n\t\tmenu_order: currentPostData.menu_order,\n\t\tmeta: currentPostData.meta,\n\t\ttemplate: currentPostData.template,\n\t};\n\tuseEffect(() => {\n\t\tif (0 !== postId) {\n\t\t\tlocation.href = addQueryArgs(\"post.php\", {\n\t\t\t\tpost: postId,\n\t\t\t\taction: \"edit\",\n\t\t\t});\n\t\t}\n\t}, [postId]);\n\n\tconst fetchData = async () => {\n\t\tconst response = await apiFetch({\n\t\t\tpath: `wp/v2/${restBase}`,\n\t\t\tmethod: \"POST\",\n\t\t\tdata: DuplicatePost,\n\t\t});\n\t\tsetPostId(response.id);\n\t};\n\tfunction DuplicateThePost() {\n\t\tsetDuplicationStatus(true);\n\t\tfetchData();\n\t}\n\treturn (\n\t\t<MenuGroup>\n\t\t\t<MenuItem\n\t\t\t\tonClick={DuplicateThePost}\n\t\t\t\tclassName=\"createwithrani-quick-post-duplicate-menu-item\"\n\t\t\t>\n\t\t\t\t{sprintf(\n\t\t\t\t\t/* translators: %s: singular label of current post type i.e Page, Post */\n\t\t\t\t\t__(\"Duplicate %s\", \"createwithrani-quick-post-button\"),\n\t\t\t\t\tsingleLabel\n\t\t\t\t)}\n\n\t\t\t\t{duplicationStatus && <Spinner />}\n\t\t\t</MenuItem>\n\t\t</MenuGroup>\n\t);\n}\n","/**\n * External dependencies\n */\nimport classnames from \"classnames\";\n\n/**\n * WordPress dependencies.\n */\nimport { __ } from \"@wordpress/i18n\";\nimport { DropdownMenu } from \"@wordpress/components\";\nimport { moreVertical } from \"@wordpress/icons\";\n\n/**\n * Internal dependencies.\n */\nimport { DuplicateMenuItem } from \"./duplicate-menu-item\";\nimport \"./editor.scss\";\n\nconst POPOVER_PROPS = {\n\tclassName: classnames(\"createwithrani-quick-post-button-popover\"),\n\tposition: \"bottom left\",\n};\n\n/**\n * Create the kebab menu for the Quick Post Button\n *\n * @since 0.1.0\n * @return {string} Return the rendered Quick Post Button kebab menu\n */\nfunction QuickPostKebabMenu({ newPost, restBase, singleLabel }) {\n\tconst toggleProps = {\n\t\tisSecondary: true,\n\t\tdisabled: !newPost,\n\t\tstyle: {\n\t\t\tborderTopLeftRadius: \"0px\",\n\t\t\tborderBottomLeftRadius: \"0px\",\n\t\t\tmarginLeft: \"-1px\",\n\t\t\tmaxHeight: \"36px\",\n\t\t\tminHeight: \"36px\",\n\t\t\tdisplay: \"block\",\n\t\t},\n\t};\n\n\treturn (\n\t\t<DropdownMenu\n\t\t\tclassName=\"createwithrani-quick-post-kebab\"\n\t\t\tpopoverProps={POPOVER_PROPS}\n\t\t\ttoggleProps={toggleProps}\n\t\t\ticon={moreVertical}\n\t\t>\n\t\t\t{() => (\n\t\t\t\t<DuplicateMenuItem\n\t\t\t\t\tsingleLabel={singleLabel}\n\t\t\t\t\trestBase={restBase}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</DropdownMenu>\n\t);\n}\nexport default QuickPostKebabMenu;\n","/**\n * WordPress dependencies.\n */\nimport { __ } from \"@wordpress/i18n\";\nimport { useSelect } from \"@wordpress/data\";\nimport { store as coreStore } from \"@wordpress/core-data\";\n\n/*\n * \tWe need to know two things:\n * \t1. What post type are we in – so we can set up the URL to create a new post of the same type\n *\t2. Is this a new post? – because if it's brand new, we don't want our button to be active, yer already in a new post, bud.\n */\nexport function getPostInfo() {\n\tconst { postType } = useSelect((select) => {\n\t\treturn {\n\t\t\tpostType: select(\"core/editor\").getCurrentPostType(),\n\t\t};\n\t});\n\tconst { newPost } = useSelect((select) => {\n\t\tconst newPost = select(\"core/editor\").isEditedPostSaveable();\n\n\t\treturn {\n\t\t\tnewPost: newPost,\n\t\t};\n\t});\n\treturn { postType, newPost };\n}\n\nexport function getPostLabels(postType) {\n\tconst { singleLabel, addNewLabel } = useSelect((select) => {\n\t\tconst { getPostTypes } = select(coreStore);\n\t\tconst includedPostType = [postType];\n\t\tconst filteredPostTypes = getPostTypes({ per_page: -1 })?.filter(\n\t\t\t({ viewable, slug }) => viewable && includedPostType.includes(slug)\n\t\t);\n\n\t\tif (undefined !== filteredPostTypes) {\n\t\t\treturn {\n\t\t\t\taddNewLabel: filteredPostTypes[0].labels.add_new,\n\t\t\t\tsingleLabel: filteredPostTypes[0].labels.singular_name,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\taddNewLabel: undefined,\n\t\t\tsingleLabel: undefined,\n\t\t};\n\t});\n\treturn { addNewLabel, singleLabel };\n}\n\nexport function getPostTypeRestBase(postType) {\n\tconst { rest_base } = useSelect((select) => {\n\t\tconst { getPostTypes } = select(coreStore);\n\t\tconst includedPostType = [postType];\n\t\tconst filteredPostTypes = getPostTypes({ per_page: -1 })?.filter(\n\t\t\t({ viewable, slug }) => viewable && includedPostType.includes(slug)\n\t\t);\n\n\t\tif (undefined !== filteredPostTypes) {\n\t\t\treturn {\n\t\t\t\trest_base: filteredPostTypes[0].rest_base,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\trest_base: undefined,\n\t\t};\n\t});\n\treturn rest_base;\n}\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"primitives\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies.\n */\nimport { __ } from \"@wordpress/i18n\";\nimport { useSelect } from \"@wordpress/data\";\nimport { store as coreStore } from \"@wordpress/core-data\";\nimport { render, useState } from \"@wordpress/element\";\nimport { subscribe } from \"@wordpress/data\";\nimport domReady from \"@wordpress/dom-ready\";\n\n/**\n * Internal dependencies.\n */\nimport { getPostInfo, getPostLabels, getPostTypeRestBase } from \"./utils\";\nimport AddNewPostButton from \"./add-button\";\nimport QuickPostKebabMenu from \"./kebab-menu\";\n\n/**\n * Create the Quick Post button\n *\n * @since 0.1.0\n * @return {string} Return the rendered Quick Post Button\n */\nfunction QuickPostButton() {\n\tconst { postType, newPost } = getPostInfo();\n\tif (!postType) {\n\t\treturn null;\n\t}\n\tconst { addNewLabel, singleLabel } = getPostLabels(postType);\n\tconst restBase = getPostTypeRestBase(postType);\n\t// Until we get the label info back, we don't want to render the button.\n\tif (undefined !== addNewLabel && undefined !== restBase) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<AddNewPostButton\n\t\t\t\t\tpostType={postType}\n\t\t\t\t\tnewPost={newPost}\n\t\t\t\t\taddNewLabel={addNewLabel}\n\t\t\t\t\tsingleLabel={singleLabel}\n\t\t\t\t/>\n\t\t\t\t<QuickPostKebabMenu\n\t\t\t\t\tnewPost={newPost}\n\t\t\t\t\tsingleLabel={singleLabel}\n\t\t\t\t\trestBase={restBase}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n\treturn null;\n}\n\n/**\n * Let's subscribe (because I finally understand what this does better)\n * and add the component to the toolbar!\n */\nsubscribe(() => {\n\tconst quickpostbutton = document.querySelector(\n\t\t\"#createwithrani-quick-post-button-wrapper\"\n\t);\n\n\t// If the Quick Post Button already exists, skip render\n\t// (which we can do because we are finally in a functional call!)\n\tif (quickpostbutton) {\n\t\t// quickpostbutton.remove();\n\t\treturn;\n\t}\n\n\tdomReady(() => {\n\t\tconst editorToolbar = document.querySelector(\n\t\t\t\".edit-post-header-toolbar__left\"\n\t\t);\n\n\t\t// If toolbar doesn't exist, we can't continue\n\t\tif (!editorToolbar) {\n\t\t\treturn;\n\t\t}\n\n\t\t// So turns out you can't append to an existing container without\n\t\t// using dangerouslySetInnerHTML, which..I don't want to use.\n\t\tconst buttonWrapper = document.createElement(\"div\");\n\t\tbuttonWrapper.id = \"createwithrani-quick-post-button-wrapper\";\n\t\tbuttonWrapper.style.cssText = \"display:flex;\";\n\t\t// Now we add the empty div to the existing toolbar element\n\t\t// so we can fill it.\n\t\teditorToolbar.appendChild(buttonWrapper);\n\n\t\trender(\n\t\t\t<QuickPostButton />,\n\t\t\tdocument.getElementById(\"createwithrani-quick-post-button-wrapper\")\n\t\t);\n\t});\n});\n"],"names":["__","useSelect","store","coreStore","Button","addQueryArgs","AddNewPostButton","postType","newPost","addNewLabel","singleLabel","textTransform","margin","display","maxHeight","minHeight","borderTopRightRadius","borderBottomRightRadius","location","href","post_type","sprintf","apiFetch","MenuGroup","MenuItem","useEffect","useState","Spinner","DuplicateMenuItem","restBase","postId","setPostId","duplicationStatus","setDuplicationStatus","currentPostData","select","getCurrentPost","DuplicatePost","author","content","title","excerpt","comment_status","ping_status","password","parent","menu_order","meta","template","post","action","fetchData","response","path","method","data","id","DuplicateThePost","classnames","DropdownMenu","moreVertical","POPOVER_PROPS","className","position","QuickPostKebabMenu","toggleProps","isSecondary","disabled","style","borderTopLeftRadius","borderBottomLeftRadius","marginLeft","getPostInfo","getCurrentPostType","isEditedPostSaveable","getPostLabels","getPostTypes","includedPostType","filteredPostTypes","per_page","filter","viewable","slug","includes","undefined","labels","add_new","singular_name","getPostTypeRestBase","rest_base","render","subscribe","domReady","QuickPostButton","quickpostbutton","document","querySelector","editorToolbar","buttonWrapper","createElement","cssText","appendChild","getElementById"],"sourceRoot":""}